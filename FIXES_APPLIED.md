# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –±–æ—Ç–æ–º

## –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã:

### 1. üïê –ü—Ä–æ–±–ª–µ–º–∞ —Å —á–∞—Å–æ–≤—ã–º –ø–æ—è—Å–æ–º

**–ü—Ä–æ–±–ª–µ–º–∞:** –ë–æ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å —Å–µ—Ä–≤–µ—Ä–∞ (Asia/Yekaterinburg +05) –≤–º–µ—Å—Ç–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (Europe/Moscow +03).

**–†–µ—à–µ–Ω–∏–µ:**
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –º–æ—Å–∫–æ–≤—Å–∫–∏–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á
- –í `bot.py` –∏ `bot_improved.py` –¥–æ–±–∞–≤–ª–µ–Ω–æ: `moscow_tz = pytz.timezone('Europe/Moscow')`
- –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Ç–µ–ø–µ—Ä—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Å `timezone=moscow_tz`

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `bot.py` - —Å—Ç—Ä–æ–∫–∏ 23-25
- `bot_improved.py` - —Å—Ç—Ä–æ–∫–∏ 24-26

### 2. üîÑ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∫–æ–Ω—Ç—Ä–æ–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:** –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –∫–æ–Ω—Ç—Ä–æ–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –π–æ–≥–∏ –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ –¥–≤–∞–∂–¥—ã –∏–∑-–∑–∞ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏.

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –∏ –π–æ–≥–∞ –∏–º–µ–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤–æ–µ –≤—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (17:00)
2. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å ID –∑–∞–¥–∞—á –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ
3. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

**–†–µ—à–µ–Ω–∏—è:**

#### 2.1 –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –π–æ–≥–∏
- –í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –π–æ–≥–∏ –∏–∑–º–µ–Ω–µ–Ω–æ —Å `17:00` –Ω–∞ `17:15`
- –§–∞–π–ª: `config.py` - —Å—Ç—Ä–æ–∫–∞ 35

#### 2.2 –£–ª—É—á—à–µ–Ω–∏–µ ID –∑–∞–¥–∞—á –≤ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–µ
- –î–æ–±–∞–≤–ª–µ–Ω–æ –≤—Ä–µ–º—è –≤ ID –∑–∞–¥–∞—á –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
- –î–æ–±–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `replace_existing=True`
- –§–æ—Ä–º–∞—Ç ID: `check_{task_type}_{day}_{hour:02d}{minute:02d}`

#### 2.3 –ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –≤ –ë–î –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- –ï—Å–ª–∏ –∑–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –ë–î, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `config.py` - —Å—Ç—Ä–æ–∫–∞ 35
- `bot.py` - —Å—Ç—Ä–æ–∫–∏ 34-42, 45-52, 144-150
- `bot_improved.py` - —Å—Ç—Ä–æ–∫–∏ 37-45, 48-55, 154-160

## –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

1. **–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ—Ä–≤–∏—Å:**
   ```bash
   sudo systemctl stop capsula-assistant
   ```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–∫—Ä–∏–ø—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞:**
   ```bash
   ./restart_service.sh
   ```

3. **–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:**
   ```bash
   sudo systemctl start capsula-assistant
   sudo systemctl status capsula-assistant
   ```

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:

1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞:**
   ```bash
   sudo systemctl status capsula-assistant
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏:**
   ```bash
   sudo journalctl -u capsula-assistant -f
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Ä–µ–º—è –≤ –±–æ—Ç–µ:**
   - –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `/today` –≤ Telegram
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Ä–µ–º—è –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ –ú–°–ö

## –û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:

‚úÖ –í—Å–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ –æ—Ç—á–µ—Ç—ã –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å –ø–æ –º–æ—Å–∫–æ–≤—Å–∫–æ–º—É –≤—Ä–µ–º–µ–Ω–∏  
‚úÖ –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –æ –∫–æ–Ω—Ç—Ä–æ–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É—Å—Ç—Ä–∞–Ω–µ–Ω–æ  
‚úÖ –ô–æ–≥–∞: –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ 15:00, –∫–æ–Ω—Ç—Ä–æ–ª—å –≤ 17:15  
‚úÖ –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞: –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –≤ 15:00, –∫–æ–Ω—Ç—Ä–æ–ª—å –≤ 17:00  
‚úÖ –£–ª—É—á—à–µ–Ω–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ –∑–∞–¥–∞—á  

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:

- **–ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å:** –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `Europe/Moscow` –¥–ª—è –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
- **–í—Ä–µ–º—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –π–æ–≥–∏:** –ò–∑–º–µ–Ω–µ–Ω–æ —Å 17:00 –Ω–∞ 17:15
- **ID –∑–∞–¥–∞—á:** –í–∫–ª—é—á–∞—é—Ç –≤—Ä–µ–º—è –¥–ª—è —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
- **–ó–∞—â–∏—Ç–∞ –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –∑–∞–¥–∞—á–∏ –≤ –ë–î
- **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫:** –ü–∞—Ä–∞–º–µ—Ç—Ä `replace_existing=True` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤
